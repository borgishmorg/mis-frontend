<mat-accordion class="container" *ngIf="!loading">
    <mat-expansion-panel *ngFor="let role of roles">
        <mat-expansion-panel-header>
            <mat-panel-title>{{role.name}}</mat-panel-title>
        </mat-expansion-panel-header>
        <mat-card>
            <mat-card-header>
                <mat-card-title>Разрешения</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <div *ngFor="let permission of permissions">
                    <mat-checkbox 
                        [checked]="checkPermission(permission, role.permissions)"
                        [disabled]="!canEdit"
                    >{{permission.name}}</mat-checkbox>
                </div>
            </mat-card-content>
            <mat-card-actions>

            </mat-card-actions>
        </mat-card>
    </mat-expansion-panel>
</mat-accordion>